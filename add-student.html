<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>إضافة طالب – Tahfidh Tracker</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/png" sizes="64x64" href="assets_icons/appicon-64.png" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>

<header class="app-header">
  <button class="menu-btn" onclick="history.back()">←</button>
  <div class="app-title" id="pageTitle" data-i18n="addStudent">إضافة طالب</div>
  <div style="display:flex; gap:4px;">
    <button id="langToggle" class="lang-switcher" onclick="toggleLang(); location.reload();">EN</button>
    <button id="darkToggle" class="lang-switcher" onclick="toggleDarkMode()"><img src="icons/day time icon.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt=""></button>
  </div>
</header>

<main class="main-content">
  <section class="card">
    <div class="form-group">
      <label class="form-label" data-i18n="studentNameLabel">اسم الطالب *</label>
      <input id="studentName" class="form-input" data-i18n-ph="studentNamePh" placeholder="الاسم الكامل" required />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="gender">الجنس</label>
      <select id="gender" class="form-input form-select">
        <option value="ذكر" data-i18n="male">ذكر</option>
        <option value="أنثى" data-i18n="female">أنثى</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="courseLabel">المسار</label>
      <select id="course" class="form-input form-select">
        <option value="hifdh" data-i18n="courseHifdh">حفظ</option>
        <option value="talqin" data-i18n="courseTalqin">تلقين</option>
        <option value="murajaah" data-i18n="courseMurajaah">مراجعة</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="phoneOptional">رقم الهاتف (اختياري)</label>
      <input id="phone" class="form-input" type="tel" placeholder="+966..." />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="lastSurah">آخر سورة محفوظة</label>
      <div id="lastSurahWrap"></div>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="examJuzCount">عدد أجزاء الاختبار</label>
      <input id="examJuz" class="form-input" type="number" min="0" data-i18n-ph="examJuzPh" placeholder="مثال: 3" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="examPercentage">نسبة الاختبار %</label>
      <input id="examPercent" class="form-input" type="number" min="0" max="100" data-i18n-ph="examPercentPh" placeholder="مثال: 85" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="examNotes">ملاحظات الاختبار</label>
      <textarea id="examNotes" class="form-input" rows="3" data-i18n-ph="examNotesPh" placeholder="ملاحظات عن أداء الطالب في الاختبار..."></textarea>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="notesOptional">ملاحظات (اختياري)</label>
      <textarea id="notes" class="form-input" rows="3" data-i18n-ph="notesPh" placeholder="أي معلومات إضافية..."></textarea>
    </div>
    <button id="btnSave" class="btn btn-success btn-full" style="font-size:1.05rem; padding:0.85rem; margin-top:6px;" data-i18n="saveStudent">
      حفظ الطالب
    </button>
    <button id="btnDelete" class="btn btn-full" style="background:#FEE2E2; color:#DC2626; margin-top:10px; display:none; gap:8px;">
      <img src="icons/delete icon.svg" style="width:18px; height:18px;" alt="">
      <span data-i18n="deleteStudent">حذف الطالب</span>
    </button>
  </section>
</main>

<footer class="branding-footer" data-i18n="footer">Made by Al Hudaa Program | صُنع بواسطة برنامج الهدى</footer>

<script src="js/js/db.js"></script>
<script src="js/js/i18n.js"></script>
<script src="js/js/ui.js"></script>
<script src="js/js/add-student.js"></script>
</body>
</html>
