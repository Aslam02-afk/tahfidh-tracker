<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุงูุฅุนุฏุงุฏุงุช โ Tahfidh Tracker</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/png" sizes="64x64" href="assets_icons/appicon-64.png" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>

<header class="app-header">
  <button class="menu-btn" onclick="location.href='index.html'">โ</button>
  <div class="app-title" data-i18n="settings">ุงูุฅุนุฏุงุฏุงุช</div>
  <div style="display:flex; gap:4px;">
    <button id="langToggle" class="lang-switcher" onclick="toggleLang(); location.reload();">EN</button>
    <button id="darkToggle" class="lang-switcher" onclick="toggleDarkMode()"><img src="icons/day time icon.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt=""></button>
  </div>
</header>

<main class="main-content">

  <!-- Language -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="languageSection">ุงููุบุฉ</div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div>
        <div style="font-weight:700;" data-i18n="languageLabel">ูุบุฉ ุงูุชุทุจูู</div>
        <div style="font-size:0.82rem; color:var(--text-muted); margin-top:2px;" data-i18n="languageDesc">ุนุฑุจู ุฃู ุฅูุฌููุฒู</div>
      </div>
      <button id="langBtn" class="btn btn-secondary" onclick="switchLang()" style="min-width:80px;">
        English
      </button>
    </div>
  </section>

  <!-- Dark mode -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="appearanceSection">ุงููุธูุฑ</div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div>
        <div style="font-weight:700;" data-i18n="darkModeLabel">ุงููุถุน ุงููููู</div>
        <div style="font-size:0.82rem; color:var(--text-muted); margin-top:2px;" data-i18n="darkModeDesc">ุฎูููุฉ ุฏุงููุฉ ุชุฑูุญ ุงูุนููู</div>
      </div>
      <button id="darkModeBtn" class="btn btn-secondary" onclick="toggleDarkMode(); updateDarkBtn()" style="min-width:80px;" data-i18n="enable">
        ุชูุนูู
      </button>
    </div>
  </section>

  <!-- Background Theme -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="themeSection">ุฎูููุฉ ุงูุชุทุจูู</div>
    <div class="theme-grid">
      <button class="theme-btn" data-theme="none" onclick="setTheme('none')">
        <div class="theme-preview" style="background-image: radial-gradient(circle, rgba(201,162,77,0.15) 2px, transparent 2px); background-size: 24px 24px;"></div>
        <div class="theme-label" data-i18n="themeNone">ุจูุง ุฎูููุฉ</div>
      </button>
      <button class="theme-btn" data-theme="arabic" onclick="setTheme('arabic')">
        <div class="theme-preview" style="background-image: url('themes/arabic-patterns.svg'); background-size: cover;"></div>
        <div class="theme-label" data-i18n="themeArabic">ุฃููุงุท ุนุฑุจูุฉ</div>
      </button>
      <button class="theme-btn" data-theme="flower" onclick="setTheme('flower')">
        <div class="theme-preview" style="background-image: url('themes/flower theme.svg'); background-size: cover;"></div>
        <div class="theme-label" data-i18n="themeFlower">ุฃุฒูุงุฑ</div>
      </button>
      <button class="theme-btn" data-theme="bg" onclick="setTheme('bg')">
        <div class="theme-preview" style="background-image: url('themes/BG.svg'); background-size: cover;"></div>
        <div class="theme-label" data-i18n="themeBg">ุฎูููุฉ ูุงููุฉ</div>
      </button>
    </div>
  </section>

  <!-- Backup & Restore -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="backupSection">ุงููุณุฎ ุงูุงุญุชูุงุทู</div>

    <button class="btn btn-primary btn-full" onclick="exportDB()" style="margin-bottom:10px;" data-i18n="exportData">
      ุชุตุฏูุฑ ุงูุจูุงูุงุช (JSON)
    </button>

    <div class="form-group" style="margin-bottom:0;">
      <label class="form-label" data-i18n="importBackup">ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ</label>
      <input id="importFile" type="file" accept=".json" class="form-input" style="padding:0.5rem;" />
    </div>
    <button class="btn btn-warning btn-full" onclick="doImport()" style="margin-top:10px;" data-i18n="importData">
      ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
    </button>
  </section>

  <!-- Clear data -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="dangerSection">ุฎุทุฑ</div>
    <button class="btn btn-full" onclick="clearAllData()"
      style="background:#FEE2E2; color:#DC2626; font-weight:700; display:flex; align-items:center; justify-content:center; gap:8px;">
      <img src="icons/delete icon.svg" style="width:18px; height:18px;" alt="">
      <span data-i18n="clearAllData">ูุณุญ ุฌููุน ุงูุจูุงูุงุช</span>
    </button>
    <div style="font-size:0.78rem; color:var(--text-muted); margin-top:8px; text-align:center;" data-i18n="clearWarning">
      ุณูุชู ุญุฐู ุฌููุน ุงูุญููุงุช ูุงูุทูุงุจ ูุงูุณุฌูุงุช ุจุดูู ููุงุฆู
    </div>
  </section>

  <!-- Contact -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="contactSection">ุงูุชูุงุตู</div>
    <p style="color:var(--text-muted); line-height:1.7; margin-bottom:12px; font-size:0.85rem;" data-i18n="contactUsDesc">
      ุฅุฐุง ูุงู ูุฏูู ุงูุชุฑุงุญุ ูุดููุฉ ุชูููุฉุ ุฃู ุทูุจ ุฎุงุตุ ูุณุนุฏูุง ุชูุงุตูู ูุน ุจุฑูุงูุฌ ุงููุฏู.
    </p>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherNameOptional">ุงุณู ุงููุนูู (ุงุฎุชูุงุฑู)</label>
      <input id="contactTeacherName" class="form-input" data-i18n-ph="teacherNameContactPh" placeholder="ุงูุชุจ ุงุณูู" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="subject">ุงูููุถูุน</label>
      <select id="contactSubject" class="form-select">
        <option data-i18n="subjectSuggestion">ุงูุชุฑุงุญ ุชุทููุฑ</option>
        <option data-i18n="subjectBug">ูุดููุฉ ุชูููุฉ</option>
        <option data-i18n="subjectDataInquiry">ุงุณุชูุณุงุฑ ุนู ุงูุจูุงูุงุช</option>
        <option data-i18n="subjectSupport">ุทูุจ ุฏุนู</option>
        <option data-i18n="subjectOther">ุฃุฎุฑู</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="message">ุงูุฑุณุงูุฉ</label>
      <textarea id="contactMessage" class="form-input" rows="4" data-i18n-ph="messagePh" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..."></textarea>
    </div>
    <button class="btn btn-primary btn-full" onclick="sendContactMessage()" data-i18n="sendMessage">
      ุฅุฑุณุงู ุงูุฑุณุงูุฉ
    </button>
    <p style="font-size:0.82rem; color:var(--text-muted); margin-top:10px; text-align:center;">
      <b>markazalhudaa143@gmail.com</b>
    </p>
  </section>

  <!-- Rate Us -->
  <section class="card" id="rateCard" style="cursor:pointer;">
    <div style="font-weight:900; font-size:1rem; margin-bottom:6px;" data-i18n="rateSectionTitle">ูููููุง</div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <div>
        <div style="font-weight:700;" id="rateCardTitle" data-i18n="rateCardTitle">ูููู ุงูุชุทุจูู</div>
        <div style="font-size:0.82rem; color:var(--text-muted); margin-top:2px;" id="rateCardSubtitle" data-i18n="rateCardSubtitle">ุณุงุนุฏูุง ูู ุชุญุณูู Tahfidh Tracker</div>
      </div>
      <div style="font-size:2rem; line-height:1;">โญ</div>
    </div>
  </section>

  <!-- What's New -->
  <section class="card">
    <div style="font-weight:900; font-size:1rem; margin-bottom:12px;" data-i18n="whatsNew">ูุง ุงูุฌุฏูุฏ | What's New</div>
    <div style="font-size:0.82rem; line-height:1.8; color:var(--text-muted);">
      <div style="display:flex; gap:8px; align-items:flex-start; margin-bottom:8px;">
        <span style="background:var(--green); color:#fff; padding:2px 8px; border-radius:6px; font-size:0.72rem; white-space:nowrap;">v1.3</span>
        <span data-i18n="v13notes">ูุงุฑุฆ ุงููุฑุขู โ ุงุฎุชุจุงุฑุงุช ุงูุทูุงุจ โ ุชูุงุฑูุฑ ุฅุณูุงููุฉ ูุญุณููุฉ โ ุฃููููุงุช ูุฎุตุตุฉ</span>
      </div>
      <div style="display:flex; gap:8px; align-items:flex-start; margin-bottom:8px;">
        <span style="background:var(--primary); color:#fff; padding:2px 8px; border-radius:6px; font-size:0.72rem; white-space:nowrap;">v1.2</span>
        <span data-i18n="v12notes">ุฏุนู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ โ ุชูุงุฑูุฑ ุซูุงุฆูุฉ ุงููุบุฉ ููุฃูููุงุก</span>
      </div>
      <div style="display:flex; gap:8px; align-items:flex-start; margin-bottom:8px;">
        <span style="background:var(--secondary); color:#fff; padding:2px 8px; border-radius:6px; font-size:0.72rem; white-space:nowrap;">v1.1</span>
        <span data-i18n="v11notes">ุญูุธ ููุฑุงุฌุนุฉ ูุน ูุงุฆูุฉ 114 ุณูุฑุฉ โ ุชูุงุฑูุฑ ุฃุณุจูุนูุฉ ูุดูุฑูุฉ โ ุงููุถุน ุงููููู โ ูุณุฎ ุงุญุชูุงุทู โ ุชุณุฌูู ุงูุญุถูุฑ</span>
      </div>
      <div style="display:flex; gap:8px; align-items:flex-start;">
        <span style="background:var(--border); color:var(--text-main); padding:2px 8px; border-radius:6px; font-size:0.72rem; white-space:nowrap;">v1.0</span>
        <span data-i18n="v10notes">ุงูุฅุตุฏุงุฑ ุงูุฃูู: ุฅุฏุงุฑุฉ ุงูุญููุงุช ูุงูุทูุงุจ ูุชุตุฏูุฑ Excel</span>
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="card" style="text-align:center;">
    <img src="assets_icons/appicon-64.png" alt="Al Hudaa" style="width:48px; height:48px; border-radius:12px; margin-bottom:8px;" />
    <div style="font-weight:900;" data-i18n="aboutTitle">ุจุฑูุงูุฌ ุงููุฏู | Al Hudaa Program</div>
    <div style="font-size:0.82rem; color:var(--text-muted); margin-top:6px; line-height:1.6;" data-i18n="aboutDesc">
      ุชุทุจูู ููุณุงุนุฏุฉ ูุนููู ุงููุฑุขู ูู ูุชุงุจุนุฉ ุจูุงูุงุช ุงูุทูุงุจ ูุชุณุฌูู ุงูุญูุธ ูุงููุฑุงุฌุนุฉ ุงูููููุฉ
    </div>
    <div style="font-size:0.78rem; color:var(--text-muted); margin-top:10px;">
      Tahfidh Tracker v1.3
    </div>
  </section>

</main>

<nav class="bottom-nav">
  <button class="nav-btn" onclick="location.href='index.html'">
    <div class="nav-icon"><img src="icons/home icon.svg" alt=""></div>
    <div class="nav-text" data-i18n="home">ุงูุฑุฆูุณูุฉ</div>
  </button>
  <button class="nav-btn" onclick="location.href='quran.html'">
    <div class="nav-icon"><img src="icons/Quran icon.svg" alt=""></div>
    <div class="nav-text" data-i18n="quran">ุงููุฑุขู</div>
  </button>
  <button class="nav-btn active" onclick="location.href='settings.html'">
    <div class="nav-icon"><img src="icons/setting icon.svg" alt=""></div>
    <div class="nav-text" data-i18n="settings">ุงูุฅุนุฏุงุฏุงุช</div>
  </button>
</nav>

<footer class="branding-footer" data-i18n="footer">Made by Al Hudaa Program | ุตููุน ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุงููุฏู</footer>

<script src="js/js/db.js"></script>
<script src="js/js/i18n.js"></script>
<script src="js/js/ui.js"></script>
<script src="js/js/settings.js"></script>

<!-- Rate Modal -->
<div class="tt-modal" id="rateModal">
  <div class="tt-modal-box">
    <div class="tt-modal-header">
      <div class="tt-modal-title" id="rateModalTitle" data-i18n="rateModalTitle">ูููู Tahfidh Tracker</div>
      <button class="tt-icon-btn" id="rateCloseBtn" type="button">โ</button>
    </div>

    <div class="tt-stars" id="starContainer" aria-label="Star rating">
      <button type="button" class="tt-star" data-value="1">โ</button>
      <button type="button" class="tt-star" data-value="2">โ</button>
      <button type="button" class="tt-star" data-value="3">โ</button>
      <button type="button" class="tt-star" data-value="4">โ</button>
      <button type="button" class="tt-star" data-value="5">โ</button>
    </div>

    <input id="rateName" data-i18n-placeholder="rateNamePh" placeholder="ุงูุงุณู (ุงุฎุชูุงุฑู)" />
    <textarea id="rateMessage" data-i18n-placeholder="rateMsgPh" placeholder="ุงูุชุฑุงุญุงุช / ููู ูููููุง ุงูุชุญุณููุ (ุงุฎุชูุงุฑู)"></textarea>

    <div class="tt-actions">
      <button class="btn btn-secondary" id="rateCancelBtn" type="button" data-i18n="cancel">ุฅูุบุงุก</button>
      <button class="btn btn-primary" id="rateSubmitBtn" type="button" data-i18n="send">ุฅุฑุณุงู</button>
    </div>
  </div>
</div>

<!-- Thank You Modal -->
<div class="tt-modal" id="thankYouModal">
  <div class="tt-modal-box tt-thanks">
    <div class="tt-thanks-icon" aria-hidden="true">๐</div>
    <div class="tt-modal-title" id="thankYouTitle" data-i18n="thankTitle">ุดูุฑูุง ูู!</div>
    <p id="thankYouMessage" data-i18n="thankMsg">ุดูุฑูุง ูุชููููู.</p>

    <div class="tt-actions">
      <button class="btn btn-primary" id="thankYouCloseBtn" type="button" data-i18n="ok">ุญุณููุง</button>
    </div>
  </div>
</div>


</body>
</html>
