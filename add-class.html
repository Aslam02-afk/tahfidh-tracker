<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>إضافة حلقة – Tahfidh Tracker</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/png" sizes="64x64" href="assets_icons/appicon-64.png" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>

<header class="app-header">
  <button class="menu-btn" onclick="history.back()">←</button>
  <div class="app-title" id="pageTitle" data-i18n="addNewClass">إضافة حلقة جديدة</div>
  <div style="display:flex; gap:4px;">
    <button id="langToggle" class="lang-switcher" onclick="toggleLang(); location.reload();">EN</button>
    <button id="darkToggle" class="lang-switcher" onclick="toggleDarkMode()"><img src="icons/day time icon.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt=""></button>
  </div>
</header>

<main class="main-content">
  <section class="card">
    <div class="form-group">
      <label class="form-label" data-i18n="className">اسم الحلقة *</label>
      <input id="className" class="form-input" data-i18n-ph="classNamePh" placeholder="مثال: الصفوف الأولية" required />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherNameLabel">اسم المعلم</label>
      <input id="teacherName" class="form-input" data-i18n-ph="teacherNamePh" placeholder="مثال: عبدالله" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherGender">جنس المعلم</label>
      <div style="display:flex; gap:10px;">
        <button type="button" id="genderMale" class="btn btn-primary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectGender('male')">
          <img src="icons/male teacher icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="teacherGenderMale">معلم</span>
        </button>
        <button type="button" id="genderFemale" class="btn btn-secondary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectGender('female')">
          <img src="icons/female teacher icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="teacherGenderFemale">معلمة</span>
        </button>
      </div>
      <input type="hidden" id="teacherGender" value="male" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="classTime">وقت الحلقة</label>
      <div style="display:flex; gap:10px;">
        <button type="button" id="timeMorning" class="btn btn-primary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectTime('morning')">
          <img src="icons/day time icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="classTimeMorning">صباحي</span>
        </button>
        <button type="button" id="timeEvening" class="btn btn-secondary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectTime('evening')">
          <img src="icons/night time icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="classTimeEvening">مسائي</span>
        </button>
      </div>
      <input type="hidden" id="classTime" value="morning" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="notesOptional">ملاحظات (اختياري)</label>
      <textarea id="notes" class="form-input" rows="3" data-i18n-ph="notesPh" placeholder="أي معلومات إضافية..."></textarea>
    </div>
    <button id="btnSave" class="btn btn-success btn-full" style="font-size:1.05rem; padding:0.85rem; margin-top:6px;" data-i18n="saveClass">
      حفظ الحلقة
    </button>
    <button id="btnDelete" class="btn btn-full" style="background:#FEE2E2; color:#DC2626; margin-top:10px; display:none; gap:8px;">
      <img src="icons/delete icon.svg" style="width:18px; height:18px;" alt="">
      <span data-i18n="deleteClass">حذف الحلقة</span>
    </button>
  </section>
</main>

<footer class="branding-footer" data-i18n="footer">Made by Al Hudaa Program | صُنع بواسطة برنامج الهدى</footer>

<script src="js/js/db.js"></script>
<script src="js/js/i18n.js"></script>
<script src="js/js/ui.js"></script>
<script src="js/js/add-class.js"></script>
</body>
</html>
