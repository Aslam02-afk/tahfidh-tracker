<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุฅุถุงูุฉ ุญููุฉ โ Tahfidh Tracker</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/png" sizes="64x64" href="assets_icons/appicon-64.png" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>

<header class="app-header">
  <button class="menu-btn" onclick="history.back()">โ</button>
  <div class="app-title" id="pageTitle" data-i18n="addNewClass">ุฅุถุงูุฉ ุญููุฉ ุฌุฏูุฏุฉ</div>
  <div style="display:flex; gap:4px;">
    <button id="langToggle" class="lang-switcher" onclick="toggleLang(); location.reload();">๐</button>
    <button id="darkToggle" class="lang-switcher" onclick="toggleDarkMode()"><img src="icons/day time icon.svg" style="width:20px; height:20px; filter:brightness(0) invert(1);" alt=""></button>
  </div>
</header>

<main class="main-content">
  <section class="card">
    <div class="form-group">
      <label class="form-label" data-i18n="className">ุงุณู ุงูุญููุฉ *</label>
      <input id="className" class="form-input" data-i18n-ph="classNamePh" placeholder="ูุซุงู: ุงูุตููู ุงูุฃูููุฉ" required />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherNameLabel">ุงุณู ุงููุนูู</label>
      <input id="teacherName" class="form-input" data-i18n-ph="teacherNamePh" placeholder="ูุซุงู: ุนุจุฏุงููู" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherPhotoLabel">ุตูุฑุฉ ุงููุนูู (ุงุฎุชูุงุฑู)</label>
      <div style="display:flex; align-items:center; gap:14px; margin-top:6px;">
        <img id="teacherPhotoPreview" src="icons/male teacher icon.svg" alt=""
          style="width:64px; height:64px; border-radius:50%; object-fit:cover; border:2px solid var(--border); background:var(--bg); flex-shrink:0;" />
        <div style="display:flex; flex-direction:column; gap:8px; flex:1;">
          <label class="btn btn-secondary" for="teacherPhotoInput"
            style="cursor:pointer; padding:0.4rem 1rem; font-size:0.85rem; text-align:center; display:block; margin:0;"
            data-i18n="uploadPhoto">ุฑูุน ุตูุฑุฉ</label>
          <input type="file" id="teacherPhotoInput" accept="image/*" style="display:none;"
            onchange="handleTeacherPhoto(this)" />
          <button type="button" id="teacherPhotoClearBtn" class="btn" onclick="clearTeacherPhoto()"
            style="display:none; padding:0.4rem 1rem; font-size:0.85rem; background:#FEE2E2; color:#DC2626; margin:0;"
            data-i18n="removePhoto">ุญุฐู ุงูุตูุฑุฉ</button>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="teacherGender">ุฌูุณ ุงููุนูู</label>
      <div style="display:flex; gap:10px;">
        <button type="button" id="genderMale" class="btn btn-primary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectGender('male')">
          <img src="icons/male teacher icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="teacherGenderMale">ูุนูู</span>
        </button>
        <button type="button" id="genderFemale" class="btn btn-secondary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:0.6rem;" onclick="selectGender('female')">
          <img src="icons/female teacher icon.svg" style="width:24px; height:24px;" alt="">
          <span data-i18n="teacherGenderFemale">ูุนููุฉ</span>
        </button>
      </div>
      <input type="hidden" id="teacherGender" value="male" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="classTime">ููุช ุงูุญููุฉ</label>
      <!-- Mode toggle -->
      <div style="display:flex; gap:10px; margin-bottom:10px;">
        <button type="button" id="modeSalah" class="btn btn-primary" style="flex:1; padding:0.55rem;" onclick="selectTimeMode('salah')" data-i18n="salahTime">ููุช ุงูุตูุงุฉ</button>
        <button type="button" id="modeCustom" class="btn btn-secondary" style="flex:1; padding:0.55rem;" onclick="selectTimeMode('custom')" data-i18n="customTime">ููุช ูุฎุตุต</button>
      </div>
      <!-- Salah buttons -->
      <div id="salahButtons" style="display:flex; gap:8px; flex-wrap:wrap;">
        <button type="button" id="salahFajr"    class="btn btn-secondary" style="flex:1; min-width:calc(33% - 8px); padding:0.5rem 0.3rem; font-size:0.85rem;" onclick="selectSalahTime('fajr')"    data-i18n="fajr">ุงููุฌุฑ</button>
        <button type="button" id="salahDhuhr"   class="btn btn-secondary" style="flex:1; min-width:calc(33% - 8px); padding:0.5rem 0.3rem; font-size:0.85rem;" onclick="selectSalahTime('dhuhr')"   data-i18n="dhuhr">ุงูุธูุฑ</button>
        <button type="button" id="salahAsr"     class="btn btn-secondary" style="flex:1; min-width:calc(33% - 8px); padding:0.5rem 0.3rem; font-size:0.85rem;" onclick="selectSalahTime('asr')"     data-i18n="asr">ุงูุนุตุฑ</button>
        <button type="button" id="salahMaghrib" class="btn btn-secondary" style="flex:1; min-width:calc(33% - 8px); padding:0.5rem 0.3rem; font-size:0.85rem;" onclick="selectSalahTime('maghrib')" data-i18n="maghrib">ุงููุบุฑุจ</button>
        <button type="button" id="salahIsha"    class="btn btn-secondary" style="flex:1; min-width:calc(33% - 8px); padding:0.5rem 0.3rem; font-size:0.85rem;" onclick="selectSalahTime('isha')"    data-i18n="isha">ุงูุนุดุงุก</button>
      </div>
      <!-- Custom time input -->
      <div id="customTimeWrap" style="display:none; margin-top:8px;">
        <input type="time" id="classTimeCustom" class="form-input" />
      </div>
      <input type="hidden" id="classTime" value="dhuhr" />
    </div>
    <div class="form-group">
      <label class="form-label" data-i18n="notesOptional">ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label>
      <textarea id="notes" class="form-input" rows="3" data-i18n-ph="notesPh" placeholder="ุฃู ูุนูููุงุช ุฅุถุงููุฉ..."></textarea>
    </div>
    <div class="form-group">
      <label class="form-label">ุชุตููู ุจุทุงูุฉ ุงูุญููุฉ</label>
      <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:6px;">
        <button type="button" id="cardTheme-none" class="btn btn-primary"
          style="flex:1; min-width:52px; height:52px; border-radius:10px; font-size:0.75rem; font-weight:700;"
          onclick="selectCardTheme('none')">ุจูุง</button>
        <button type="button" id="cardTheme-pink" class="btn btn-secondary"
          style="flex:1; min-width:52px; height:52px; border-radius:10px; padding:0; overflow:hidden; border:2px solid var(--border);"
          onclick="selectCardTheme('pink')">
          <img src="themes/Pink_theme.png" style="width:100%; height:100%; object-fit:cover; display:block;" alt="">
        </button>
        <button type="button" id="cardTheme-green" class="btn btn-secondary"
          style="flex:1; min-width:52px; height:52px; border-radius:10px; padding:0; overflow:hidden; border:2px solid var(--border);"
          onclick="selectCardTheme('green')">
          <img src="themes/green_theme.png" style="width:100%; height:100%; object-fit:cover; display:block;" alt="">
        </button>
        <button type="button" id="cardTheme-greenlight" class="btn btn-secondary"
          style="flex:1; min-width:52px; height:52px; border-radius:10px; padding:0; overflow:hidden; border:2px solid var(--border);"
          onclick="selectCardTheme('greenlight')">
          <img src="themes/greenlight_theme.png" style="width:100%; height:100%; object-fit:cover; display:block;" alt="">
        </button>
        <button type="button" id="cardTheme-purple" class="btn btn-secondary"
          style="flex:1; min-width:52px; height:52px; border-radius:10px; padding:0; overflow:hidden; border:2px solid var(--border);"
          onclick="selectCardTheme('purple')">
          <img src="themes/puple_theme.png" style="width:100%; height:100%; object-fit:cover; display:block;" alt="">
        </button>
      </div>
      <input type="hidden" id="cardTheme" value="none" />
    </div>
    <button id="btnSave" class="btn btn-success btn-full" style="font-size:1.05rem; padding:0.85rem; margin-top:6px;" data-i18n="saveClass">
      ุญูุธ ุงูุญููุฉ
    </button>
    <button id="btnDelete" class="btn btn-full" style="background:#FEE2E2; color:#DC2626; margin-top:10px; display:none; gap:8px;">
      <img src="icons/delete icon.svg" style="width:18px; height:18px;" alt="">
      <span data-i18n="deleteClass">ุญุฐู ุงูุญููุฉ</span>
    </button>
  </section>
</main>

<footer class="branding-footer" data-i18n="footer">Made by Al Hudaa Program | ุตููุน ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุงููุฏู</footer>

<script src="js/js/db.js"></script>
<script src="js/js/i18n.js"></script>
<script src="js/js/ui.js"></script>
<script src="js/js/add-class.js"></script>
</body>
</html>
